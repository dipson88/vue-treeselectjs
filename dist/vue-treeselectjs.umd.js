(function(t,c){typeof exports=="object"&&typeof module<"u"?module.exports=c(require("vue"),require("treeselectjs")):typeof define=="function"&&define.amd?define(["vue","treeselectjs"],c):(t=typeof globalThis<"u"?globalThis:t||self,t.Treeselect=c(t.Vue,t.TreeselectJS))})(this,function(t,c){"use strict";const h=["value","id"],y=t.defineComponent({name:"Treeselect",props:{value:{type:[Array,Number,String],default:()=>[]},options:{type:Array,default:()=>[]},openLevel:{type:Number,default:0},appendToBody:{type:Boolean,default:!1},alwaysOpen:{type:Boolean,default:!1},showTags:{type:Boolean,default:!0},tagsCountText:{type:String,default:"elements selected"},clearable:{type:Boolean,default:!0},searchable:{type:Boolean,default:!0},placeholder:{type:String,default:"Select..."},grouped:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},emptyText:{type:String,default:"No results found..."},staticList:{type:Boolean,default:!1},id:{type:String,default:""},isSingleSelect:{type:Boolean,default:!1},showCount:{type:Boolean,default:!1},isGroupedValue:{type:Boolean,default:!1},disabledBranchNode:{type:Boolean,default:!1},direction:{type:String,default:"auto"},expandSelected:{type:Boolean,default:!1},saveScrollPosition:{type:Boolean,default:!0},isIndependentNodes:{type:Boolean,default:!1},iconElements:{type:Object,default:()=>({})}},emits:["input","open","close","name-change","search"],setup(e,{emit:o}){const s=t.ref(null),i=t.ref(null),a=t.ref(null),f=l=>o("input",l),g=l=>o("open",l),m=l=>o("close",l),B=l=>o("name-change",l),C=l=>o("search",l);return t.watch(()=>e,l=>{if(a.value){const n=t.toRaw(a.value),d=t.toRaw(l);let u=!1;Object.keys(d).forEach(r=>{const b=d[r]===n[r];!h.includes(r)&&!b&&(n[r]=d[r],u=!0)}),u&&n.mount()}},{deep:!0}),t.watch(()=>e.value,l=>{if(a.value){const n=t.toRaw(a.value),d=t.toRaw(l);JSON.stringify(n.value)!==JSON.stringify(d)&&n.updateValue(d)}}),t.watch(()=>e.id,l=>{if(a.value){const n=t.toRaw(a.value);(n.id||l)&&(n.id=l??"",n.mount())}}),t.onMounted(()=>{if(!s.value)throw new Error("Treeselect container ref is not defined");a.value=new c({parentHtmlContainer:s.value,value:e.value,options:e.options,openLevel:e.openLevel,appendToBody:e.appendToBody,alwaysOpen:e.alwaysOpen,showTags:e.showTags,tagsCountText:e.tagsCountText,clearable:e.clearable,searchable:e.searchable,placeholder:e.placeholder,grouped:e.grouped,disabled:e.disabled,emptyText:e.emptyText,staticList:e.staticList,id:e.id,isSingleSelect:e.isSingleSelect,showCount:e.showCount,isGroupedValue:e.isGroupedValue,disabledBranchNode:e.disabledBranchNode,direction:e.direction,expandSelected:e.expandSelected,saveScrollPosition:e.saveScrollPosition,isIndependentNodes:e.isIndependentNodes,inputCallback:f,openCallback:g,closeCallback:m,nameChangeCallback:B,searchCallback:C,listSlotHtmlComponent:i.value??null,iconElements:e.iconElements})}),t.onUnmounted(()=>{a.value&&t.toRaw(a.value).destroy()}),{treeselectContainerRef:s,treeselectAfterListSlotRef:i}}}),p=(e,o)=>{const s=e.__vccOpts||e;for(const[i,a]of o)s[i]=a;return s},w={ref:"treeselectContainerRef"},S={ref:"treeselectAfterListSlotRef",class:"treeselect__after-list-slot"};function T(e,o,s,i,a,f){return t.openBlock(),t.createElementBlock(t.Fragment,null,[t.createElementVNode("div",w,null,512),t.createElementVNode("div",S,[t.renderSlot(e.$slots,"default")],512)],64)}return p(y,[["render",T]])});
